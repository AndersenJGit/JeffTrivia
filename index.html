<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Daily Trivia: About Me</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      background: #2E3440;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
    }
    .card {
      background: #3B4252;
      padding: 2rem;
      border-radius: 12px;
      max-width: 400px;
      width: 100%;
      box-shadow: 0 10px 25px rgba(0,0,0,0.3);
      text-align: center;
      color: #D8DEE9;
    }
    h1 { margin-top: 0; }
    select, button {
      width: 100%;
      padding: 0.6rem;
      margin-top: 1rem;
      font-size: 1rem;
      border-radius: 6px;
      border: none;
    }
    select { background: #4C566A; color: #D8DEE9; }
    button { background: #88C0D0; color: #2E3440; font-weight: bold; cursor: pointer; }
    .result { margin-top: 1rem; font-weight: bold; }
    .result.correct { color: #A3BE8C; }
    .result.wrong { color: #BF616A; }
    .feedback {
      margin-top: 0.5rem;
      font-size: 0.9rem;
      color: #E5E9F0;
      font-style: italic;
    }
    .stats {
      display: none;
      text-align: left;
      margin-top: 1rem;
      background: #4C566A;
      padding: 1rem;
      border-radius: 8px;
    }
    .stats h2 { margin-top: 0; }
    .stats p { margin: 0.5rem 0; }
    #toggleStats {
      background: #5E81AC;
      color: #D8DEE9;
      font-weight: normal;
      margin-top: 1rem;
    }
  </style>
</head>
<body>
  <div class="card">
    <h1>Jeff's Daily Trivia</h1>
    <p id="question"></p>

    <select id="answerSelect">
      <option value="">--Choose your answer--</option>
    </select>
    <button id="submitBtn">Submit</button>

    <div class="result" id="result"></div>
    <div class="feedback" id="feedback"></div>

    <button id="toggleStats">Show Stats</button>
    <div class="stats" id="stats">
      <h2>Stats</h2>
      <p id="totalPlayed">Questions Played: 0</p>
      <p id="totalCorrect">Questions Correct: 0</p>
      <p id="currentStreak">Current Win Streak: 0</p>
    </div>
  </div>

  <script>
    const questions = [
      { 
        q: "What kind of student was I in class growing up?",
        a: "Talkative",
        options: ["Talkative", "Quiet but attentive", "Always distracted", "Always asking questions"],
        feedback: "Before I definitely talked too much, nowadays I'd say quiet but attentive."
      },
      { 
        q: "What kind of person am I in arguments?",
        a: "Instigator",
        options: ["Get frustrated", "Avoid conflict", "Try to stay calm", "Instigator"],
        feedback: "I end up making the conversation go on longer than it should."
      },
      { 
        q: "What drains my energy the fastest?",
        a: "Boredom",
        options: ["Hard work", "Too much social interaction", "Boredom", "Noise"],
        feedback: "If I have nothing productive to do I'll likely just sleep."
      },
      { 
        q: "What kind of compliments mean the most to me?",
        a: "About my intelligence",
        options: ["About my looks", "About my intelligence", "About my effort", "About my personality"],
        feedback: "It means the most when someone thinks highly of my intellect."
      },
      { 
        q: "What do I usually do when I’m stuck on a problem?",
        a: "Take a break and come back",
        options: ["Force through it", "Ask for help", "Give up", "Take a break and come back"],
        feedback: "I'll often figure out the solution while working on something else"
      },
      { 
        q: "What do I struggle with more?",
        a: "Finishing things",
        options: ["Starting things", "Finishing things", "Staying focused", "Asking for help"],
        feedback: "I have a lot of projects I've started but failed to continue for longer than a week."
      },
      { 
        q: "What do I secretly judge myself for?",
        a: "Wasting time",
        options: ["Procrastinating", "Wasting time", "Not trying hard enough", "Overthinking"],
        feedback: "Mostly right when I wake up, and before I fall asleep."
      },
      { 
        q: "What kind of thinker am I?",
        a: "Instinct-driven",
        options: ["Decisive", "Overthinker", "Impulsive", "Instinct-driven"],
        feedback: "If my instincts tell me something, I'll often listen."
      },
      // Add Before This Line (To Stay Ahead)
      { 
        q: "What city do I want to visit the most?",
        a: "Tromso",
        options: ["Paris", "London", "Tokyo", "Tromso"],
        feedback: "For the Northern Lights and night-time scenery."
      },
      { 
        q: "What is my favorite type of food?",
        a: "Mexican",
        options: ["Mexican", "Italian", "Chinese", "American"],
        feedback: "Specifically from a taco truck."
      },
      { 
        q: "What kind of music do I listen to the most?",
        a: "Pop",
        options: ["Rock", "Hip Hop", "Pop", "RnB"],
        feedback: "This makes up most of my playlists."
      },
      { 
        q: "What is my biggest pet peeve?",
        a: "Being late",
        options: ["Loud chewing", "Being late", "Messy rooms", "Slow drivers"],
        feedback: "Especially when I'm waiting on someone else."
      },
      { 
        q: "What time of day am I most productive?",
        a: "Late Night",
        options: ["Early Morning", "Afternoon", "Evening", "Late Night"],
        feedback: "Caused by years of cramming before tests."
      },
      { 
        q: "What is my preferred way to spend a free weekend?",
        a: "Staying in",
        options: ["Going out", "Traveling", "Staying in", "Studying"],
        feedback: "Normally just hanging around the house with my roommates."
      },
      { 
        q: "What kind of movies do I usually prefer?",
        a: "Action",
        options: ["Action", "Comedy", "Psychological", "Romance"],
        feedback: "The best for entertainment without overthinking."
      },
      { 
        q: "What is my least favorite household chore?",
        a: "Doing dishes",
        options: ["Doing dishes", "Laundry", "Vacuuming", "Taking out trash"],
        feedback: "I've devolved to using one bowl for everything to reduce this chore."
      },
      { 
        q: "What is my favorite way to unwind after a long day?",
        a: "Watching videos",
        options: ["Reading", "Watching videos", "Going for a walk", "Sleeping"],
        feedback: "I end up doing this longer than I should."
      },
      { 
        q: "Who is my favorite basketball player?",
        a: "Pete Maravich",
        options: ["Karl Malone", "Donovan Mitchell", "John Stockton", "Pete Maravich"],
        feedback: "Has some inspiring stories, and skills ahead of his time."
      },
      { 
        q: "What is my dream car?",
        a: "Chevelle",
        options: ["Chevelle", "Impala", "Charger", "Challenger"],
        feedback: "Probably either a 1969 or 1970 edition."
      },
      { 
        q: "What's my favorite cheat day food?",
        a: "Baked Goods",
        options: ["Candy", "Chocolate", "Baked Goods", "Sugar Drinks"],
        feedback: "I have to stay away from this aisle when shopping."
      },
      { 
        q: "What is my most-used app on my phone?",
        a: "YouTube",
        options: ["Instagram", "YouTube", "Twitter", "Messages"],
        feedback: "Whenever I eat, while taking a break from school work."
      },
      { 
        q: "What stresses me out the most?",
        a: "Last-minute changes",
        options: ["Deadlines", "Crowds", "Last-minute changes", "Noise"],
        feedback: "Anything that alters my plan can really stress me out."
      },
      { 
        q: "What is my preferred way to listen to music?",
        a: "Car Speakers",
        options: ["Speakers", "Car Speakers", "Headphones", "Airpods"],
        feedback: "Especially getting to sing without anybody judging you lol."
      },
      { 
        q: "What is my favorite kind of weather?",
        a: "Rainy",
        options: ["Sunny", "Rainy", "Cloudy", "Snowy"],
        feedback: "It's soothing to hear the rain as it falls."
      },
      { 
        q: "What is my biggest weakness when shopping?",
        a: "Food",
        options: ["Food", "Clothes", "Technology", "Impulse buying"],
        feedback: "I need someone to monitor me going through the grocery store"
      },
      { 
        q: "What do I usually forget to bring with me?",
        a: "Phone charger",
        options: ["Wallet", "Keys", "Water", "Phone charger"],
        feedback: "It's the worst when I need to stay at school without it."
      },
      { 
        q: "What position in soccer do I wish I could've played?",
        a: "Center Midfielder",
        options: ["Center Midfielder", "Goalie", "Right Wing", "Right Striker"],
        feedback: "Always seemed fun because you get the ball a lot, but you need to have better cardio to play it."
      },
      { 
        q: "What subject did I like the most in school?",
        a: "Math",
        options: ["Math", "English", "History", "Science"],
        feedback: "Obviously math, but at times I really enjoyed history and politics."
      },
      { 
        q: "What is my biggest fear about the future?",
        a: "Wasting time",
        options: ["Failure", "Wasting time", "Being alone", "Burning out"],
        feedback: "Hopefully I won't age too quickly."
      },
      { 
        q: "What is my favorite fast food place?",
        a: "Chipotle",
        options: ["McDonald's", "In-N-Out", "Taco Bell", "Chipotle"],
        feedback: "I could eat this every single day and not get tired of it."
      },
      { 
        q: "What video game have I played the most?",
        a: "Rocket League",
        options: ["League of Legends", "Rocket League", "Minecraft", "Call of Duty"],
        feedback: "I’ve sunk way more hours into this than I’d like to admit."
      },
      { 
        q: "What is my favorite movie of all time?",
        a: "The Truman Show",
        options: ["The Truman Show", "Tombstone", "Your Name", "Training Day"],
        feedback: "A perfect blend of comedy and plot development."
      },
      { 
        q: "What is my go-to drink order?",
        a: "Iced Coffee",
        options: ["Soda", "Brandy Old Fashioned", "Iced Coffee", "Water"],
        feedback: "Yes, even when it’s freezing outside."
      } 
    ];

    const today = new Date().toISOString().slice(0, 10);

    // ---- NEW SEQUENTIAL BASE-DAY LOGIC ----
    let baseDay = localStorage.getItem("trivia-baseDay");
    if (!baseDay) {
      baseDay = today;
      localStorage.setItem("trivia-baseDay", baseDay);
    }

    const daysSinceBase =
      Math.floor((new Date(today) - new Date(baseDay)) / (1000 * 60 * 60 * 24));

    const safeDays = Math.max(0, daysSinceBase);
    const questionIndex = Math.min(safeDays, questions.length - 1);
    const current = questions[questionIndex];
    // -------------------------------------

    const questionEl = document.getElementById("question");
    const selectEl = document.getElementById("answerSelect");
    const resultEl = document.getElementById("result");
    const feedbackEl = document.getElementById("feedback");
    const buttonEl = document.getElementById("submitBtn");

    questionEl.textContent = current.q;

    current.options.forEach(option => {
      const opt = document.createElement("option");
      opt.value = option;
      opt.textContent = option;
      selectEl.appendChild(opt);
    });

    let totalPlayed = parseInt(localStorage.getItem("trivia-totalPlayed") || "0");
    let totalCorrect = parseInt(localStorage.getItem("trivia-totalCorrect") || "0");
    let currentStreak = parseInt(localStorage.getItem("trivia-streak") || "0");

    const totalPlayedEl = document.getElementById("totalPlayed");
    const totalCorrectEl = document.getElementById("totalCorrect");
    const currentStreakEl = document.getElementById("currentStreak");

    function updateStats() {
      totalPlayedEl.textContent = "Questions Played: " + totalPlayed;
      totalCorrectEl.textContent = "Questions Correct: " + totalCorrect;
      currentStreakEl.textContent = "Current Win Streak: " + currentStreak;
    }
    updateStats();

    buttonEl.onclick = () => {
      const guess = selectEl.value;
      if (!guess) return;

      const correct = guess === current.a;

      // ---- UNCOMMENT THESE FOR FINAL VERSION ----
      const alreadyAnswered = localStorage.getItem("trivia-" + today);
      if (alreadyAnswered) return;
      // -------------------------------------------

      localStorage.setItem("trivia-" + today, correct ? "correct" : "wrong");

      totalPlayed++;
      if (correct) {
        totalCorrect++;
        currentStreak++;
      } else {
        currentStreak = 0;
      }

      localStorage.setItem("trivia-totalPlayed", totalPlayed);
      localStorage.setItem("trivia-totalCorrect", totalCorrect);
      localStorage.setItem("trivia-streak", currentStreak);

      resultEl.textContent = correct
        ? "✅ Correct!"
        : `❌ Not quite. The answer was: "${current.a}"`;
      resultEl.className = "result " + (correct ? "correct" : "wrong");
      feedbackEl.textContent = current.feedback;

      updateStats();
    };

    const toggleStatsBtn = document.getElementById("toggleStats");
    const statsEl = document.getElementById("stats");
    toggleStatsBtn.onclick = () => {
      statsEl.style.display = statsEl.style.display === "none" ? "block" : "none";
      toggleStatsBtn.textContent = statsEl.style.display === "none" ? "Show Stats" : "Hide Stats";
    };
  </script>
</body>
</html>
